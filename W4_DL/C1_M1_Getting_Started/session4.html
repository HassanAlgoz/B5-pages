<!DOCTYPE html>
<html lang="en"><head>
<link href="../../assets/icon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <meta name="author" content="malfadly@sdaia.gov.sa">
  <title>AI Pros Bootcamp – Module 1 - Session 4: Working with Tensors</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-2476b6dbe24137c74cb80772f2f63bf0.css">
  <link rel="stylesheet" href="../../assets/sdaia.scss">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="icon" href="../../assets/icon.svg">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="../../assets/anim.svg" data-background-opacity="0.1" class="quarto-title-block center">
  <h1 class="title">Module 1 - Session 4: Working with Tensors</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="session-4" class="title-slide slide level1 center">
<h1>Session 4</h1>

</section>
<section id="what-are-tensors" class="slide level2">
<h2>What are Tensors?</h2>
<p><strong>Tensors are the core Data Structure in PyTorch</strong></p>

<img data-src="../assets/scalar_vector_matrix_tensor.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p><strong>Analogy:</strong> Think of a Tensor as a container. If a Scalar is a single grape, a Vector is a row of grapes, and a Matrix is a crate of grapes, a Tensor is a shipping container full of those crates.</p>
<p>Similar to NumPy arrays, but with support for GPU acceleration and automatic differentiation.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="images-as-tensors" class="slide level2">
<h2>Images as Tensors</h2>

<img data-src="../assets/rgb_image_as_3d_tensor.png" class="quarto-figure quarto-figure-center r-stretch"><p>PyTorch convention ordering for images is: <code>(channels, height, width)</code>.</p>
<aside class="notes">
<p>Images are just a special type of tensor. They are 3-dimensional tensors, with the first dimension being the height, the second dimension being the width, and the third dimension being the number of channels (RGB, RGBA, etc.).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-learn-about-tensors" class="slide level2">
<h2>Why Learn About Tensors?</h2>
<p><strong>Many PyTorch errors come from tensor issues</strong></p>
<ul>
<li>Shape mismatches</li>
<li>Data type problems</li>
<li>Device mismatches</li>
</ul>
<p><strong>Master tensors now, avoid frustration later</strong></p>
<aside class="notes">
<p>In the last lab, you trained a model to predict delivery times. Along the way, you’ve been using tensors, maybe without thinking too much about them. And that’s fine - until it isn’t.</p>
<p>Many PyTorch errors come from tensor issues. So let’s build up your tensor skills now before those errors might derail your projects. In this session, you’ll learn how to read and understand tensor shapes, handle data types, create tensors in different ways, reshape and slice them to fit your models, and then pull out what you need.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="understanding-shapes" class="slide level2">
<h2>Understanding Shapes</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a>distances.shape  <span class="co"># torch.Size([6, 1])</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong><code>[6, 1]</code> means:</strong></p>
<ul>
<li>6 samples (batch size)</li>
<li>1 feature per sample</li>
</ul>
<p><strong>Shape mismatches = most common PyTorch errors</strong></p>
<aside class="notes">
<p>Let’s start with the most important tool in your tensor toolkit: checking shapes. When you print <code>distances.shape</code>, you’ll get something like <code>torch.Size([6, 1])</code>. That tells you exactly how your data is organized.</p>
<p>There are 6 samples - that’s your batch size. And there’s 1 feature per sample - that’s the distance of each delivery. Shape mismatches are one of the most common PyTorch errors, right alongside device and dtype issues.</p>
<p>So let’s take a look at a shape that does work. Using the same single neuron model you trained earlier, pass in the distances, and it just works. Why? Because each sample has one feature, just as the model expects.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-batch-size-doesnt-cause-problems" class="slide level2">
<h2>Why Batch Size Doesn’t Cause Problems</h2>
<p><strong>Model expects first dimension = batch size</strong></p>
<p>Think of it like a stack of papers:</p>
<ul>
<li>Model reads each page the same way</li>
<li>Whether 6 pages or 600 pages</li>
<li>First dimension = how many</li>
<li>Rest = what each sample looks like</li>
</ul>
<aside class="notes">
<p>But what about that 6? Why doesn’t the batch size cause a problem? Well, that’s because the model expects the first dimension to be the batch size - the number of samples it will take at once.</p>
<p>Think of it a little bit like a stack of papers. The model reads each page the same way, whether there are 6 pages or 600 in the stack. The first dimension is how many, and the rest describe what each sample looks like.</p>
<p>So now try passing in multiple features like distance, hour, and weather. It fails. The model was only built for one input feature. When you hit a shape mismatch, PyTorch will tell you what’s wrong, but not how to fix it. Once you see both shapes, usually the fix will be obvious.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-types" class="slide level2">
<h2>Data Types</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="co"># Defaults</span></span>
<span id="cb2-2"><a></a>torch.tensor([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])        <span class="co"># int64</span></span>
<span id="cb2-3"><a></a>torch.tensor([<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>])  <span class="co"># float32</span></span>
<span id="cb2-4"><a></a></span>
<span id="cb2-5"><a></a><span class="co"># Explicit</span></span>
<span id="cb2-6"><a></a>torch.tensor([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], dtype<span class="op">=</span>torch.float32)</span>
<span id="cb2-7"><a></a>tensor.<span class="bu">float</span>()  <span class="co"># convert to float32</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>For neural networks:</strong> <code>float32</code> is the sweet spot</p>
<aside class="notes">
<p>Now you understand shapes, let’s talk about data types. When you create a tensor, PyTorch can use defaults. Enter integers, you’ll get int64. Include a decimal point, then you’ll get float32.</p>
<p>If you want to be explicit, you can use the <code>dtype</code> argument. It guarantees float32 even if you forget the decimal point. Alternatively, you can use <code>.float()</code> to convert any tensor to float32.</p>
<p>What happens if you mix types? PyTorch will automatically handle mixed types through type promotion. For example, if you add an int tensor and a float tensor, PyTorch will automatically convert the int to float and then return a float result, just like regular Python.</p>
<p>There are other types too, like float64 for extra precision or int8 for memory savings. But for neural networks, float32 is the sweet spot - it’s fast, accurate, and standard on modern hardware.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="creating-tensors" class="slide level2">
<h2>Creating Tensors</h2>
<p><strong>From Python lists:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a>torch.tensor([[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>From NumPy:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a>torch.from_numpy(np_array)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Built-in patterns:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a>torch.zeros(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb5-2"><a></a>torch.ones(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb5-3"><a></a>torch.randn(<span class="dv">2</span>, <span class="dv">3</span>)  <span class="co"># random values</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<p>Now that you understand types, let’s look at different ways to create tensors. The simplest way: use Python lists. And if you’re coming from NumPy, PyTorch tensors behave almost exactly the same way. You can convert a NumPy array like this. Just remember, this shares memory - if you change one, the other changes too.</p>
<p>If you need quick test data, try these built-in patterns for zeros, ones, or random values. These are incredibly useful when you’re prototyping or testing your models.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reshaping-tensors" class="slide level2">
<h2>Reshaping Tensors</h2>
<p><strong>Common error:</strong> forgetting the batch dimension</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="co"># Wrong: scalar</span></span>
<span id="cb6-2"><a></a>single_value <span class="op">=</span> torch.tensor(<span class="fl">25.0</span>)  <span class="co"># shape: []</span></span>
<span id="cb6-3"><a></a></span>
<span id="cb6-4"><a></a><span class="co"># Right: batch dimension</span></span>
<span id="cb6-5"><a></a>single_value <span class="op">=</span> torch.tensor([[<span class="fl">25.0</span>]])  <span class="co"># shape: [1, 1]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<p>Once you have tensors, you’ll often need to reshape them to match what your model expects. Remember, PyTorch models expect input with a batch dimension, like <code>[6, 1]</code> that we saw earlier. That first number tells the model how many samples it’s getting.</p>
<p>One of the most common shape errors is forgetting that batch dimension. Let’s say you want to predict the delivery time for a single order, for example, 25 miles. This is a scalar, but your model expects a shape of batch size, features, which at a minimum is <code>[1, 1]</code>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="adding-dimensions" class="slide level2">
<h2>Adding Dimensions</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a></a><span class="co"># Add dimension</span></span>
<span id="cb7-2"><a></a>tensor.unsqueeze(<span class="dv">0</span>)  <span class="co"># add at position 0</span></span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a><span class="co"># Remove dimensions</span></span>
<span id="cb7-5"><a></a>tensor.squeeze()  <span class="co"># removes all size-1 dimensions</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Always check shape before using unsqueeze()</strong></p>
<aside class="notes">
<p>You can also use <code>unsqueeze()</code> to add dimensions. So now it’s ready for the model. Always check the shape before you use <code>unsqueeze()</code>.</p>
<p>And if you’re going the other way, try just using <code>squeeze()</code>. <code>squeeze()</code> removes all dimensions of size one, and it’s great for cleaning up after batching.</p>
<p>Always print <code>tensor.shape</code> when you’re debugging. These tools are your first defense against shape errors.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="indexing-and-slicing" class="slide level2">
<h2>Indexing and Slicing</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a>predictions[<span class="dv">0</span>]        <span class="co"># first prediction</span></span>
<span id="cb8-2"><a></a>predictions[<span class="dv">0</span>:<span class="dv">3</span>]      <span class="co"># first three</span></span>
<span id="cb8-3"><a></a>predictions[<span class="dv">0</span>].item() <span class="co"># convert to Python float</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong><code>.item()</code> only works on tensors with exactly one element</strong></p>
<aside class="notes">
<p>Sometimes you need specific values from your tensors, like checking predictions or grabbing a few samples. Indexing and slicing can be used for this, and they work just like Python lists.</p>
<p>This gives the first prediction, and this gives the first three. But even a single index value is still a tensor. So if you want the actual Python value, use <code>.item()</code> to convert it into a float.</p>
<p>But be careful - <code>.item()</code> only works on tensors with exactly one element. Call it on a bigger tensor, you’ll get an error.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="multiple-features" class="slide level2">
<h2>Multiple Features</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a></a><span class="co"># Shape: [batch_size, num_features]</span></span>
<span id="cb9-2"><a></a>data <span class="op">=</span> torch.tensor([[<span class="fl">5.0</span>, <span class="fl">14.0</span>, <span class="fl">1.0</span>],  <span class="co"># distance, hour, weather</span></span>
<span id="cb9-3"><a></a>                     [<span class="fl">6.0</span>, <span class="fl">15.0</span>, <span class="fl">0.0</span>]])</span>
<span id="cb9-4"><a></a></span>
<span id="cb9-5"><a></a>data[<span class="dv">0</span>, <span class="dv">1</span>]  <span class="co"># first sample, second feature (hour = 14.0)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<p>So far, we’ve looked at one feature per sample. With multiple features, you can index across both dimensions like so. You’ve now seen shapes, types, reshaping, and indexing. It’s a lot, but don’t worry - you don’t need to memorize everything. These patterns will become second nature with practice, and even the pros check the docs.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="element-wise-operations" class="slide level2">
<h2>Element-Wise Operations</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a></a>weight <span class="op">=</span> <span class="fl">3.4</span></span>
<span id="cb10-2"><a></a>bias <span class="op">=</span> <span class="fl">5.0</span></span>
<span id="cb10-3"><a></a>distances <span class="op">=</span> torch.tensor([[<span class="fl">5.0</span>], [<span class="fl">6.0</span>], [<span class="fl">8.0</span>]])</span>
<span id="cb10-4"><a></a></span>
<span id="cb10-5"><a></a><span class="co"># Element-wise: applies to each element independently</span></span>
<span id="cb10-6"><a></a>predictions <span class="op">=</span> weight <span class="op">*</span> distances <span class="op">+</span> bias</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Same operation applied to all elements at once</strong></p>
<aside class="notes">
<p>Now let’s see how PyTorch actually computes with tensors. Let’s start with a computation from your single neuron model: weight times distance plus bias.</p>
<p>PyTorch’s tensor math works element-wise, so each element is operated on independently. Your computation applies the same weight to each distance, and then adds the same bias to each result. The math looks just like regular Python, but PyTorch runs these operations efficiently on all elements at once.</p>
<p>This works for scalars (single values) as well as tensors that have the same shape.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="broadcasting" class="slide level2 smaller">
<h2>Broadcasting</h2>
<blockquote>
<p><strong>Broadcasting</strong> is a powerful mechanism in PyTorch and NumPy that allows you to perform arithmetic operations on tensors of different shapes without manually duplicating data in memory. It makes your code faster and more memory-efficient by vectorizing operations in C rather than Python loops.</p>
</blockquote>

<img data-src="../assets/broadcasting_akshay_pachaar.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="broadcasting-example" class="slide level2">
<h2>Broadcasting: Example</h2>
<p><strong>Problem:</strong> Want to apply different adjustments to different features</p>
<p><strong>Solution:</strong> Broadcasting automatically expands dimensions</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a><span class="co"># Instead of repeating [1.1, 1.0, 5.0] three times:</span></span>
<span id="cb11-2"><a></a>adjustments <span class="op">=</span> torch.tensor([[<span class="fl">1.1</span>, <span class="fl">1.0</span>, <span class="fl">5.0</span>]])  <span class="co"># shape: [1, 3]</span></span>
<span id="cb11-3"><a></a>data <span class="op">=</span> torch.tensor([[<span class="fl">5.0</span>, <span class="fl">14.0</span>, <span class="fl">1.0</span>],</span>
<span id="cb11-4"><a></a>                     [<span class="fl">6.0</span>, <span class="fl">15.0</span>, <span class="fl">0.0</span>],</span>
<span id="cb11-5"><a></a>                     [<span class="fl">8.0</span>, <span class="fl">16.0</span>, <span class="fl">1.0</span>]])  <span class="co"># shape: [3, 3]</span></span>
<span id="cb11-6"><a></a></span>
<span id="cb11-7"><a></a>result <span class="op">=</span> data <span class="op">*</span> adjustments  <span class="co"># Broadcasting!</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<p>But what if you have more complex data? Imagine three deliveries where each has three features: distance, hour, and weather. And now you want to apply adjustment factors: maybe 1.1x for distance, no change for time, and a 5x penalty for bad weather.</p>
<p>Creating that tensor with repeated rows works because the tensors have the same shape, but it’s redundant. Wouldn’t it be nice if you could just specify those adjustment values once? That’s where broadcasting comes in.</p>
<p>When you add a scalar to a tensor, PyTorch automatically expands that single value to match every element. This automatic expansion is broadcasting in action.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-broadcasting-works" class="slide level2">
<h2>How Broadcasting Works</h2>
<p><strong>Rule:</strong> When one dimension is 1 and the other is larger, PyTorch expands the smaller dimension</p>
<p><strong>Example:</strong></p>
<ul>
<li><code>[1, 3]</code> × <code>[3, 1]</code> → both become <code>[3, 3]</code></li>
<li><code>[1, 1]</code> × <code>[1, 3]</code> → first becomes <code>[1, 3]</code></li>
</ul>
<aside class="notes">
<p>Let’s look at a more complex example. What happens when you combine a <code>[1, 3]</code> tensor with a <code>[3, 1]</code> tensor?</p>
<p>PyTorch looks at each dimension. The first dimension: 1 versus 3. The 1 expands to 3. The second dimension: 3 versus 1. The 1 expands to 3. So both become <code>[3, 3]</code>.</p>
<p>How would you actually use this? Remember those delivery adjustments? Instead of repeating <code>[1.1, 1.0, 5.0]</code> three times, you can just write this. No loops. No manual repetition. PyTorch handles it all through broadcasting.</p>
<p>This pattern appears everywhere: adjusting multiple features across batches, combining different dimensions of data, applying transformations efficiently. Once you know to look for it, you’re going to see broadcasting opportunities everywhere in deep learning.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="module-1-summary" class="slide level2">
<h2>Module 1 Summary</h2>
<p><strong>You’ve learned:</strong></p>
<ul>
<li>Why PyTorch exists and what makes it special</li>
<li>How neural networks learn from data</li>
<li>The complete ML pipeline</li>
<li>Building and training your first model</li>
<li>Activation functions for non-linear patterns</li>
<li>Working with tensors (shapes, types, operations)</li>
</ul>
<aside class="notes">
<p>Now you’ve covered essential tensor operations. The provided lab has additional examples that you can explore. Because like any tool, tensors will become intuitive through practice.</p>
<p>But most importantly, you’re at the end of Module 1. Congratulations! We started by exploring what makes PyTorch special. And now you’ve learned the fundamentals. You’ve worked through the machine learning pipeline. You’ve trained your first neural network. You’ve mastered tensor operations. You’ve built the foundation.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="lab-3-tensors-the-core-of-pytorch" class="slide level2">
<h2>Lab 3: Tensors: The Core of PyTorch</h2>
<blockquote>
<p>“For the things we have to learn before we can do them, we learn by doing them.”</p>
</blockquote>
<center>
<p>CUE: START THE LAB HERE</p>
</center>
</section>
<section id="assignment-1-deeper-regression-smarter-features" class="slide level2">
<h2>Assignment 1: Deeper Regression, Smarter Features</h2>
<blockquote>
<p>“What I cannot create, I do not understand.”</p>
</blockquote>
<center>
<p>CUE: START THE ASSIGNMENT HERE</p>
</center>
</section>
<section id="whats-next" class="slide level2">
<h2>What’s Next?</h2>
<p>In <a href="../../W4_DL/C1_M2_PyTorch_Workflow/session1.html"><strong>Module 2: Image Classification</strong></a> we learn:</p>
<ul>
<li>Tackle classification problems</li>
<li>Dive deeper into how neural networks learn</li>
<li>Build your first image classifier</li>
</ul>
<aside class="notes">
<p>Up next is the tensor lab, where you’ll practice these concepts. Followed by a graded assignment to test your skills. Then in Module 2, you’re going to tackle classification problems and dive deeper into how neural networks really learn.</p>
<p>You’ve mastered PyTorch fundamentals. It’s time to put them to work.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../assets/icon.svg" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"},{"title":"Index","icon":"<svg width='1.8rem' viewBox='0 0 24 24'><path d='M5 7h14M5 12h14M5 17h7' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>","src":"../index.html"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>