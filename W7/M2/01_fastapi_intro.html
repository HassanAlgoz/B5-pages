<!DOCTYPE html>
<html lang="en"><head>
<link href="../../assets/icon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <meta name="author" content="malfadly@sdaia.gov.sa">
  <title>AI Pros Bootcamp – Introduction to FastAPI</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-2476b6dbe24137c74cb80772f2f63bf0.css">
  <link rel="stylesheet" href="../../assets/sdaia.scss">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="icon" href="../../assets/icon.svg">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="../../assets/anim.svg" data-background-opacity="0.1" class="quarto-title-block center">
  <h1 class="title">Introduction to FastAPI</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="session-1-core-objects" class="title-slide slide level1 smaller center scrollable">
<h1>Session 1: Core Objects</h1>

<img data-src="../assets/fastapi_intro.png" class="r-stretch quarto-figure-center"><p class="caption">Figure: A sleek, futuristic high-speed train or hyperloop pod arriving at a platform. The platform is clean and modern. With speed lines indicating high performance.</p><ol type="1">
<li>The <a href="https://fastapi.tiangolo.com/reference/fastapi/"><code>FastAPI</code> class</a></li>
<li>The <a href="https://fastapi.tiangolo.com/reference/request/"><code>request</code> class</a></li>
<li>The <a href="https://fastapi.tiangolo.com/reference/parameters/">Request Parameters</a>: <code>from fastapi import Body, Cookie, File, Form, Header, Path, Query</code></li>
<li>The <a href="https://fastapi.tiangolo.com/reference/response/"><code>response</code> class</a></li>
<li>The <a href="https://fastapi.tiangolo.com/reference/responses/"><code>Custom Response Classes</code></a></li>
<li>The <a href="https://fastapi.tiangolo.com/reference/apirouter/"><code>APIRouter</code> class</a></li>
</ol>
<aside class="notes">
<ul>
<li><strong>Hook</strong>: In Module 1, we talked about the “Server” as a concept—a machine that listens and responds.</li>
<li>Today, we are going to look at the <strong>tool</strong> you will use to build that server: <strong>FastAPI</strong>.</li>
<li><strong>Lay of the Land</strong>: We will break this module into two main sessions:
<ol type="1">
<li><strong>Core Objects</strong>: The raw building blocks (The “Lego bricks”).</li>
<li><strong>Types &amp; Validation</strong>: The “glue” and “safety checks” that make FastAPI special.</li>
</ol></li>
<li>Think of this session as “Meeting the Cast” of a play before we see the performance.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-fastapi-class" class="slide level2 smaller">
<h2>1. The <code>FastAPI</code> Class</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode numberSource py number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> FastAPI</span>
<span id="cb1-2"><a></a></span>
<span id="cb1-3"><a></a>app <span class="op">=</span> FastAPI()</span>
<span id="cb1-4"><a></a></span>
<span id="cb1-5"><a></a><span class="at">@app.get</span>(<span class="st">"/items"</span>)</span>
<span id="cb1-6"><a></a><span class="kw">def</span> get_items():</span>
<span id="cb1-7"><a></a>    <span class="cf">return</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The <code>FastAPI</code> class is the main entry point for your application. It inherits from <a href="https://starlette.dev/applications/#starlette.applications.Starlette"><code>Starlette</code></a> and acts as the central hub where you:</p>
<ul>
<li><strong>Register routes</strong> using decorators like <code>@app.get()</code>, <code>@app.post()</code>, ..etc.</li>
<li><strong>Configure global settings</strong> like exception handlers (404, 500, ..etc.).</li>
<li><strong>Manage lifecycles</strong>: events such as: <strong>startup</strong> and <strong>shutdown</strong></li>
</ul>
<aside class="notes">
<ul>
<li><p><strong>M1 Connection (Verbs)</strong>: Remember those HTTP Verbs? <code>GET</code>, <code>POST</code>, <code>PUT</code>?</p></li>
<li><p><strong>Concept</strong>: The <code>@app.get()</code> decorator is how we <strong>implement</strong> an HTTP Verb in Python. You are literally telling the server: “When you hear a GET request at this path, run this function.”</p></li>
<li><p>The <code>app</code> object is the “Brain” of your server. It holds the map (Routing Table) of where every request should go.</p></li>
<li><p><strong>Manage lifecycles</strong>: events such as:</p>
<ul>
<li><strong>startup</strong> (e.g., connect to db)</li>
<li>and <strong>shutdown</strong> (e.g., disconnect from db).</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-request-class" class="slide level2 smaller">
<h2>2. The <code>Request</code> Class</h2>

<img data-src="../assets/request_flow.png" class="r-stretch quarto-figure-center"><p class="caption">Figure: A diagram showing the flow of an HTTP request. A data packet labeled ‘Request’ enters a funnel labeled ‘FastAPI’. The funnel splits the packet into ‘Head’ (Metadata) and ‘Body’ (Payload).</p><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> Request</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The <code>Request</code> class provides direct access to the underlying HTTP request. This is useful when you need to access:</p>
<ul>
<li>The client’s IP address.</li>
<li>Raw <em>Headers</em> or <em>Cookies</em>.</li>
<li>The request <em>Body</em> as a raw stream.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>M1 Connection (The Message)</strong>: Recall the “Envelope vs.&nbsp;Contents” metaphor?</li>
<li>The <code>Request</code> object gives you raw access to the <strong>entire envelope</strong>.</li>
<li>Usually, FastAPI opens it for you (as we’ll see next), but sometimes you need to check the postmark (Client IP) or read a raw message directly.</li>
<li><strong>Use Case</strong>: Rate limiting (checking IP) or logging incoming traffic.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="request-parameters" class="slide level2 smaller">
<h2>3. <a href="https://fastapi.tiangolo.com/reference/parameters/">Request Parameters</a></h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode numberSource py number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> Body, Cookie, File, Form, Header, Path, Query</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>These are the special functions that you can put in path operation function parameters or dependency functions with <code>Annotated</code> to get data from the request.</p>
<ul>
<li><strong><code>Path</code> &amp; <code>Query</code></strong>: For values in the URL or query string.</li>
<li><strong><code>Body</code>, <code>Form</code>, &amp; <code>File</code></strong>: For data, form fields, or files sent in the request payload.</li>
<li><strong><code>Header</code> &amp; <code>Cookie</code></strong>: For extracting metadata from the request.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>M1 Connection (URL Anatomy)</strong>: This is where theory meets practice.</li>
<li><code>Path</code> params map to the <strong>Resource Location</strong> (The “What”).</li>
<li><code>Query</code> params map to the <strong>Parameters</strong> (The “How”).</li>
<li><code>Header</code> params let you read the <strong>Metadata</strong> (e.g., Auth tokens or <code>User-Agent</code>).</li>
<li><strong>Feature</strong>: FastAPI automatically splits the URL string into these clean Python variables for you. You don’t parse strings; you just ask for variables.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-response-class" class="slide level2 smaller">
<h2>4. The <code>Response</code> Class</h2>

<img data-src="../assets/response_flow.png" class="r-stretch quarto-figure-center"><p class="caption">Figure: A diagram showing the output of the FastAPI funnel. Data comes out and is packaged into a box labeled ‘Response’. A label is being attached to the box that says ‘Status: 200 OK’.</p><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> Response</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>You can declare a parameter in a path operation function or dependency to be of type <code>Response</code> and then you can set data for the response like headers or cookies.</p>
<ul>
<li>Set custom HTTP status codes (e.g., <code>201 Created</code>).</li>
<li>Add custom headers or set cookies.</li>
<li>Return different types of content, such as JSON, HTML, or plain text.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>M1 Connection (Status Codes)</strong>: Remember the traffic lights (200, 404, 500)?</li>
<li>This object is how you control those lights.</li>
<li>By default, FastAPI returns <code>200 OK</code>. But if you are creating a resource, you might want to manually set <code>201 Created</code>.</li>
<li>This is also where you set <strong>Cookies</strong> (the “VIP badge” for state) to send back to the user.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="custom-response-classes" class="slide level2 smaller">
<h2>5. Custom Response Classes</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a><span class="im">from</span> fastapi.responses <span class="im">import</span> (</span>
<span id="cb5-2"><a></a>    FileResponse,</span>
<span id="cb5-3"><a></a>    HTMLResponse,</span>
<span id="cb5-4"><a></a>    JSONResponse,</span>
<span id="cb5-5"><a></a>    ORJSONResponse,</span>
<span id="cb5-6"><a></a>    PlainTextResponse,</span>
<span id="cb5-7"><a></a>    RedirectResponse,</span>
<span id="cb5-8"><a></a>    Response,</span>
<span id="cb5-9"><a></a>    StreamingResponse,</span>
<span id="cb5-10"><a></a>    UJSONResponse,</span>
<span id="cb5-11"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Read more about it in the <a href="https://fastapi.tiangolo.com/advanced/custom-response/">FastAPI docs for Custom Response - HTML, Stream, File, others</a>.</p>
</section>
<section id="status-codes" class="slide level2 smaller">
<h2>Status Codes</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode numberSource py number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>It contains a group of named constants (variables) with integer status codes. For example:</p>
<ul>
<li>200: <code>status.HTTP_200_OK</code></li>
<li>403: <code>status.HTTP_403_FORBIDDEN</code></li>
<li>etc.</li>
</ul>
<p>Read more about it in the <a href="https://fastapi.tiangolo.com/tutorial/response-status-code/">FastAPI docs about Response Status Code</a>.</p>
<aside class="notes">
<p>It can be convenient to quickly access HTTP (and WebSocket) status codes in your app, using autocompletion for the name without having to remember the integer status codes by memory.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-apirouter-class" class="slide level2 smaller">
<h2>6. The <code>APIRouter</code> Class</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode numberSource py number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> APIRouter</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Group path operations, for example to structure an app in multiple files: <code>routers/items.py</code> and <code>routers/users.py</code>:</p>
<pre><code>.
├── app
│&nbsp;&nbsp; ├── __init__.py
│&nbsp;&nbsp; ├── main.py
│&nbsp;&nbsp; └── routers
│&nbsp;&nbsp; │   ├── __init__.py
│&nbsp;&nbsp; │   ├── items.py
│&nbsp;&nbsp; │   └── users.py</code></pre>
<p>Read more about it in the <a href="https://fastapi.tiangolo.com/tutorial/bigger-applications/">FastAPI docs for Bigger Applications - Multiple Files</a>.</p>
</section>
<section id="running-fastapi-development" class="slide level2 smaller">
<h2>Running FastAPI: Development</h2>
<p>To start your API in development mode, use the command:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a></a><span class="ex">fastapi</span> dev main.py</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong>Mode</strong>: Development</li>
<li><strong>Auto-reload</strong>: Enabled (Server restarts when code changes).</li>
<li><strong>Host</strong>: <code>127.0.0.1</code> (Localhost).</li>
<li><strong>Warning</strong>: This mode is resource-intensive and less stable. <strong>Do not use in production.</strong></li>
</ul>
<aside class="notes">
<ul>
<li><strong>Concept</strong>: The “Workshop”.</li>
<li><code>fastapi dev</code> is for you, the developer.</li>
<li>It watches your files. If you save a change, the server reloads instantly so you can test it.</li>
<li>It locks the doors (only listens to localhost), so no one from the outside internet can access your broken, half-written code.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="running-fastapi-production" class="slide level2 smaller">
<h2>Running FastAPI: Production</h2>
<p>To start your API in production mode, use the command:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a></a><span class="ex">fastapi</span> run main.py</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong>Mode</strong>: Production</li>
<li><strong>Auto-reload</strong>: Disabled (Stable, maximizing performance).</li>
<li><strong>Host</strong>: <code>0.0.0.0</code> (Listen on all available IP addresses).</li>
<li><strong>Termination Proxy</strong>: Typically runs behind an HTTPS proxy (like Nginx or a Load Balancer).</li>
</ul>
<aside class="notes">
<ul>
<li><strong>Concept</strong>: The “Stage”.</li>
<li><code>fastapi run</code> is for the world.</li>
<li>It maximizes stability and performance. It doesn’t waste energy watching files.</li>
<li>It opens the doors (<code>0.0.0.0</code>) so the container or internet can reach it.</li>
<li><strong>Important</strong>: In real deployments, you usually put a “Bodyguard” (Termination Proxy) in front of it to handle HTTPS encryption.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="fastapi-standing-on-giants" class="slide level2 smaller scrollable">
<h2>FastAPI: Standing on Giants</h2>
<p>FastAPI is not built from scratch. It creates a powerful synergy by combining two best-in-class libraries:</p>
<ol type="1">
<li><strong>Starlette</strong>: For the web parts.</li>
<li><strong>Pydantic</strong>: For the data parts.</li>
</ol>
<aside class="notes">
<ul>
<li><strong>Concept</strong>: FastAPI is a “Glue Framework”.</li>
<li>It doesn’t re-invent the wheel. It takes the fastest web server (Starlette) and the best data validator (Pydantic) and wraps them in a unified, developer-friendly API.</li>
<li>You get the speed of Starlette and the safety of Pydantic without having to wire them together yourself.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="starlette-the-web-engine" class="slide level2 smaller">
<h2>Starlette: The Web Engine</h2>
<p><a href="https://www.starlette.io/">Starlette</a> provides the underlying web capabilities:</p>
<ul>
<li><strong>Asynchronous Core</strong>: Built on <code>anyio</code>, allowing for high concurrency (dealing with many users at once).</li>
<li><strong>WebSockets</strong>: Native support for real-time bi-directional communication.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>Analogy</strong>: If FastAPI is the car, Starlette is the <strong>Engine</strong>.</li>
<li>It handles the raw HTTP bytes, the connections, and the async event loop.</li>
<li>Features like “Background Tasks” (sending an email after a user signs up) come directly from Starlette.</li>
<li>When you use <code>FastAPI()</code>, you are actually creating a Starlette app with extra superpowers.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pydantic-the-data-enforcer" class="slide level2 smaller">
<h2>Pydantic: The Data Enforcer</h2>
<p><a href="https://docs.pydantic.dev/">Pydantic</a> provides the data validation and serialization:</p>

<img data-src="../assets/shape_sorter.png" class="r-stretch quarto-figure-center"><p class="caption">Figure: the BaseModel</p><ul>
<li>Enforces that input data matches your defined types: <code>"123"</code> <span class="math inline">\(\rightarrow\)</span> <code>123</code></li>
<li>Written in Rust (v2), making it one of the fastest validators available.</li>
<li>It also draws the map (OpenAPI/Swagger UI) based on your Python code.</li>
</ul>
<aside class="notes">
<ul>
<li><p>The shape-sorter itself represents your Pydantic Model (Schema).</p></li>
<li><p>A structure that defines the expected “shapes” (data types) of your inputs.</p></li>
<li><p><strong>Analogy</strong>: If Starlette is the Engine, Pydantic is the <strong>Security System</strong>.</p></li>
<li><p>It checks every piece of data entering the car.</p></li>
<li><p>It’s not just checking errors; it’s <em>fixing</em> data (Parsing).</p></li>
</ul>
<p>Extra: <em>The Linguistic Origin</em></p>
<p>The name is a portmanteau of Py (for Python) and pedantic.</p>
<p>In English, a “pedantic” person is someone who is excessively concerned with minor details, rules, or formalisms. In the context of programming, being “pedantic” usually has a negative connotation, implying that a tool or person is being needlessly difficult about small syntax errors or strict types.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="key-takeaways" class="slide level2 smaller">
<h2>Key Takeaways</h2>
<ul>
<li><strong>FastAPI Class</strong>: The central hub for routing, configuration, and application lifecycle.</li>
<li><strong>Request &amp; Response</strong>: Use <code>Request</code> for raw access to headers/IPs and <code>Response</code> to manually control status codes and cookies.</li>
<li><strong>Modular Routing</strong>: <code>APIRouter</code> allows you to split large applications into manageable, logical files.</li>
<li><strong>Dev vs.&nbsp;Prod</strong>: <code>fastapi dev</code> enables auto-reload for local iteration; <code>fastapi run</code> optimizes for performance and security in production.</li>
<li><strong>The “Giants”</strong>: FastAPI combines <strong>Starlette</strong> (for high-concurrency async performance) and <strong>Pydantic</strong> (for strict, automated data validation and documentation).</li>
</ul>
</section></section>
<section>
<section id="session-2-syntax-and-semantics" class="title-slide slide level1 center">
<h1>Session 2: Syntax and Semantics</h1>

</section>
<section id="decorators-the-symbol" class="slide level2">
<h2>Decorators: The <code>@</code> Symbol</h2>
<p>A <strong>Decorator</strong> is a function that takes another function and extends its behavior without explicitly modifying it.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a><span class="at">@app.get</span>(<span class="st">"/items"</span>)</span>
<span id="cb11-2"><a></a><span class="kw">def</span> get_items():</span>
<span id="cb11-3"><a></a>    <span class="cf">return</span> [<span class="st">"a"</span>, <span class="st">"b"</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>In FastAPI:</strong> The <code>@app.get</code> decorator tells FastAPI: “Take the function below (<code>get_items</code>) and register it in the Routing Table for the path <code>/items</code>.”</p>
<aside class="notes">
<ul>
<li><strong>Concept</strong>: The “Wrapper”.</li>
<li>Imagine wrapping a gift. The gift (your function) stays the same, but the wrapping (the decorator) adds a label saying “To: /users”.</li>
<li><strong>M1 Connection</strong>: This is how we map a <strong>URL Resource</strong> (M1 Lesson 2) to a <strong>Python Function</strong>.</li>
<li>Without the decorator, <code>get_items</code> is just a standard Python function that does nothing on the web. The decorator “activates” it for the web server.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="type-hints-matter" class="slide level2 scrollable">
<h2>Type Hints Matter</h2>
<p>Type hints are the single definition that drives three separate systems:</p>
<ol type="1">
<li>Validation &amp; Parsing</li>
<li>Documentation</li>
<li>Auto-completion</li>
</ol>
<aside class="notes">
<p>Unlike standard Python where type hints are usually ignored at runtime, <strong>FastAPI reads them to execute logic</strong>.</p>
<ul>
<li><strong>Hook</strong>: Standard Python ignores types at runtime. FastAPI <em>enforces</em> them.</li>
<li><strong>M1 Connection (The Contract)</strong>: In M1, we talked about “Content Negotiation” (e.g., “I speak JSON”).</li>
<li>Type Hints are how you define that contract in code.</li>
<li>If you say <code>item_id: int</code>, FastAPI builds a <strong>Gatekeeper</strong> that physically stops any request that sends text instead of a number.</li>
<li>It validates (Checks), Converts (String “10” -&gt; Int 10), and Documents (Tells the world “I need an Int”) all from one word.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="without-types" class="slide level2">
<h2>Without Types</h2>
<p>Manual Parsing:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a></a><span class="kw">def</span> create_item(request):</span>
<span id="cb12-2"><a></a>    data <span class="op">=</span> request.json</span>
<span id="cb12-3"><a></a>    </span>
<span id="cb12-4"><a></a>    <span class="co"># 1. Manually check existence</span></span>
<span id="cb12-5"><a></a>    <span class="cf">if</span> <span class="st">"price"</span> <span class="kw">not</span> <span class="kw">in</span> data:</span>
<span id="cb12-6"><a></a>        <span class="cf">return</span> {<span class="st">"error"</span>: <span class="st">"Price is required"</span>}, <span class="dv">400</span></span>
<span id="cb12-7"><a></a>        </span>
<span id="cb12-8"><a></a>    <span class="co"># 2. Manually check type</span></span>
<span id="cb12-9"><a></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(data[<span class="st">"price"</span>], (<span class="bu">int</span>, <span class="bu">float</span>)):</span>
<span id="cb12-10"><a></a>        <span class="cf">return</span> {<span class="st">"error"</span>: <span class="st">"Price must be a number"</span>}, <span class="dv">400</span></span>
<span id="cb12-11"><a></a>        </span>
<span id="cb12-12"><a></a>    <span class="co"># 3. Manually parse/convert</span></span>
<span id="cb12-13"><a></a>    price <span class="op">=</span> <span class="bu">float</span>(data[<span class="st">"price"</span>])</span>
<span id="cb12-14"><a></a>    </span>
<span id="cb12-15"><a></a>    <span class="co"># ... finally business logic ...</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li><strong>Pain Point</strong>: This is the “Bad Old Days” of defensive coding.</li>
<li>Look at this code. The “Business Logic” is one line at the end.</li>
<li>The rest? <strong>Boilerplate Validation</strong>.</li>
<li>You are manually checking: “Is it there?”, “Is it a number?”, “Can I convert it?”.</li>
<li><strong>Risk</strong>: If you forget one check, your app crashes or acts unpredictably.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="with-type-hints" class="slide level2">
<h2>With Type Hints</h2>
<p>In FastAPI, you declare the type in the function signature. The framework inspects these signatures at runtime.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a><span class="im">from</span> fastapi <span class="im">import</span> FastAPI</span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a>app <span class="op">=</span> FastAPI()</span>
<span id="cb13-4"><a></a></span>
<span id="cb13-5"><a></a><span class="co"># FastAPI reads 'float' and handles validation/conversion for you</span></span>
<span id="cb13-6"><a></a><span class="at">@app.post</span>(<span class="st">"/items/"</span>)</span>
<span id="cb13-7"><a></a><span class="cf">async</span> <span class="kw">def</span> create_item(price: <span class="bu">float</span>):</span>
<span id="cb13-8"><a></a>    <span class="co"># 'price' is guaranteed to be a float here.</span></span>
<span id="cb13-9"><a></a>    <span class="cf">return</span> {<span class="st">"price_with_tax"</span>: price <span class="op">*</span> <span class="fl">1.2</span>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li>Declaration: price: float tells FastAPI everything it needs to know.</li>
<li>Automatic Parsing: It converts the payload to a float automatically.</li>
<li>Automatic 422 Errors: If the user sends “ten”, FastAPI returns a standard error response detailing exactly where the validation failed.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="complex-data-structures-pydantic-models" class="slide level2">
<h2>Complex Data Structures (Pydantic Models)</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a></a><span class="im">from</span> pydantic <span class="im">import</span> BaseModel</span>
<span id="cb14-2"><a></a></span>
<span id="cb14-3"><a></a><span class="kw">class</span> Item(BaseModel):</span>
<span id="cb14-4"><a></a>    name: <span class="bu">str</span></span>
<span id="cb14-5"><a></a>    price: <span class="bu">float</span></span>
<span id="cb14-6"><a></a>    tags: <span class="bu">list</span>[<span class="bu">str</span>] <span class="op">=</span> [] <span class="co"># Optional list of strings</span></span>
<span id="cb14-7"><a></a></span>
<span id="cb14-8"><a></a><span class="at">@app.post</span>(<span class="st">"/items/"</span>)</span>
<span id="cb14-9"><a></a><span class="cf">async</span> <span class="kw">def</span> create_item(item: Item): </span>
<span id="cb14-10"><a></a>    <span class="co"># FastAPI validates the JSON body against the 'Item' class schema</span></span>
<span id="cb14-11"><a></a>    <span class="cf">return</span> item</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li><strong>The Solution</strong>: Pydantic Models.</li>
<li>Instead of writing checks, we write a <strong>Blueprint</strong>.</li>
<li>By inheriting from <code>BaseModel</code>, we tell Pydantic: “This is what an Item <em>should</em> look like.”</li>
<li><strong>Mechanism</strong>: When a request comes in, FastAPI checks it against this blueprint.</li>
<li>If the <code>tags</code> list is missing? No problem, it provides a default <code>[]</code>.</li>
<li>If <code>price</code> comes in as the string “5.50”? Pydantic converts it to a float for you.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="editor-support" class="slide level2">
<h2>Editor Support</h2>
<blockquote>
<p>The “Invisible” Feature.</p>
</blockquote>
<p>Because FastAPI uses standard Python types, your IDE (VS Code, PyCharm) understands the code.</p>
<ul>
<li>Scenario: You type <code>item.</code> (dot) inside your function.</li>
<li>Result: The editor immediately suggests <code>.name</code>, <code>.price</code>, and <code>.tags</code> because it knows item is of type <code>Item</code>.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>Concept</strong>: This isn’t just about catching errors; it’s about <strong>Developer Experience (DX)</strong>.</li>
<li>Because we use standard Python classes, VS Code (the “Client” in our LSP example from M1) can talk to its Language Server and tell you <em>exactly</em> what fields exist.</li>
<li>You don’t have to memorize the database schema. The editor tells you.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="constraints-field" class="slide level2">
<h2>Constraints: <code>Field</code></h2>
<p>Pydantic uses <code>Field</code> or specialized types to define further constraints.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a></a><span class="im">from</span> pydantic <span class="im">import</span> Field</span>
<span id="cb15-2"><a></a></span>
<span id="cb15-3"><a></a><span class="kw">class</span> User(BaseModel):</span>
<span id="cb15-4"><a></a>    <span class="co"># Set: {Strings with length between 3 and 10}</span></span>
<span id="cb15-5"><a></a>    username: <span class="bu">str</span> <span class="op">=</span> Field(min_length<span class="op">=</span><span class="dv">3</span>, max_length<span class="op">=</span><span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li><strong>Refining the Mold</strong>: Sometimes, saying “it’s a string” isn’t enough.</li>
<li>A username is a string, but it’s not <em>any</em> string. It can’t be 1 character, and it can’t be 1 million characters.</li>
<li><code>Field()</code> allows us to add <strong>metadata constraints</strong>.</li>
<li>This is “Declarative Validation”. We declare the rules, and Pydantic enforces them.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-annotated" class="slide level2 scrollable">
<h2>The <code>Annotated</code></h2>
<p><a href="https://docs.python.org/3/library/typing.html"><code>Annotated</code></a> was introduced (in PEP 593) to allow “tool-specific metadata” to exist alongside types:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a></a><span class="im">from</span> typing <span class="im">import</span> Annotated</span>
<span id="cb16-2"><a></a><span class="im">from</span> pydantic <span class="im">import</span> BaseModel, Field</span>
<span id="cb16-3"><a></a></span>
<span id="cb16-4"><a></a><span class="kw">class</span> User(BaseModel):</span>
<span id="cb16-5"><a></a>    <span class="co"># The 'int' is the type, the 'Field' is the metadata tag</span></span>
<span id="cb16-6"><a></a>    age: Annotated[<span class="bu">int</span>, Field(gt<span class="op">=</span><span class="dv">18</span>, lt<span class="op">=</span><span class="dv">100</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>For editors and other tools, the type of <code>age</code> is still the first thing: <code>str</code>.</li>
<li>For Pydantic, it knows to enforce additional constraints specified by <code>Field</code>.</li>
</ul>
<aside class="notes">
<ul>
<li><strong>Deep Dive</strong>: Why <code>Annotated</code>?</li>
<li>Python is a dynamic language. Static type checkers (like Mypy) look at <code>age: int</code> and stop there. They don’t care about <code>min_length</code>.</li>
<li><code>Annotated</code> allows us to serve two masters:
<ol type="1">
<li><strong>The Type Checker</strong>: Sees <code>int</code>. Happy.</li>
<li><strong>FastAPI/Pydantic</strong>: Sees <code>Field(gt=18)</code>. Enforces logic.</li>
</ol></li>
<li>It’s a way to attach “Runtime Metadata” to “Static Types”.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="using-type-hints" class="slide level2">
<h2>Using Type Hints</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a><span class="kw">class</span> Fruit(BaseModel):</span>
<span id="cb17-2"><a></a>    <span class="co"># Exclusive OR: either 'red' or 'green'</span></span>
<span id="cb17-3"><a></a>    color: Literal[<span class="st">'red'</span>, <span class="st">'green'</span>]</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a>    <span class="co"># Nested Structure</span></span>
<span id="cb17-6"><a></a>    bazam: <span class="bu">dict</span>[<span class="bu">str</span>, <span class="bu">list</span>[<span class="bu">tuple</span>[<span class="bu">int</span>, <span class="bu">bool</span>, <span class="bu">float</span>]]]  </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li><strong>Advanced Sculpting</strong>:</li>
<li><code>Literal</code>: Think of this as a “Dropdown Menu” or an “Enum”. If the user sends “blue”, the gate slams shut.</li>
<li><strong>Nested Structures</strong>: This is where Pydantic shines.</li>
<li>We have a dictionary, where keys are strings, and values are lists of tuples…</li>
<li>Trying to validate this manually would be a nightmare of nested <code>if/for</code> loops.</li>
<li>Here? It’s one line.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="custom-parsing-functions" class="slide level2">
<h2>Custom Parsing Functions</h2>
<p>If you wish to customize:</p>
<ul>
<li>On failure: <code>raise ValueError</code></li>
<li>On success: <code>return</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a></a><span class="kw">class</span> User(BaseModel):</span>
<span id="cb18-2"><a></a>    <span class="co"># Set: {Integers that are even} (Custom Subset)</span></span>
<span id="cb18-3"><a></a>    even_id: <span class="bu">int</span></span>
<span id="cb18-4"><a></a></span>
<span id="cb18-5"><a></a>    <span class="at">@field_validator</span>(<span class="st">'even_id'</span>)</span>
<span id="cb18-6"><a></a>    <span class="kw">def</span> must_be_even(cls, v):</span>
<span id="cb18-7"><a></a>        <span class="cf">if</span> v <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>: <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Must be even"</span>)</span>
<span id="cb18-8"><a></a>        <span class="cf">return</span> v</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<ul>
<li><strong>Power User Limit</strong>: Sometimes, declarative rules (min/max) aren’t enough.</li>
<li>“Must be an even number” is a logical check, not just a range check.</li>
<li><strong>The Hook</strong>: Pydantic lets you escape the declarative world and write raw Python functions when you need to.</li>
<li>If you raise a <code>ValueError</code>, FastAPI catches it and converts it into a nice generic <code>422 Unprocessable Entity</code> error for the user.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="key-takeaways-1" class="slide level2">
<h2>Key Takeaways</h2>
<ul>
<li><strong>Blueprints</strong>: Use Python classes for automatic validation and parsing.</li>
<li><strong>DX</strong>: Type hints enable auto-completion and catch errors early.</li>
<li><strong>Constraints</strong>: Use <code>Field</code> and <code>Annotated</code> for precise data rules.</li>
<li><strong>Validation</strong>: Use <code>@field_validator</code> for custom business logic.</li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../assets/icon.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p>AI Pros Bootcamp - Week 7</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"},{"title":"Index","icon":"<svg width='1.8rem' viewBox='0 0 24 24'><path d='M5 7h14M5 12h14M5 17h7' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>","src":"../index.html"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>